import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Planner for Location: Las Vegas for 3 days  for couple with cheap budget, give me hotel option list with HotelName, HotelAddress, Price, HotelImage url, geo coordinates, ratings, descriptions and suggest itinerary with PlaceName, placeDetails, placeImage URl, geo coordinates, ticketPricing, ratings, time travel for each location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {   
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"3 days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\",\n    \"hotelOptions\": [\n      {\n        \"HotelName\": \"Circus Circus Hotel & Casino\",\n        \"HotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$40 - $80/night\",\n        \"HotelImage\": \"https://example.com/circuscircus.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1366,\n          \"longitude\": -115.1638\n        },\n         \"ratings\": 3.8,\n         \"descriptions\": \"Budget-friendly hotel with an on-site amusement park and casino. Great for those looking for entertainment and value.\"\n      },\n      {\n        \"HotelName\": \"Excalibur Hotel & Casino\",\n         \"HotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$50 - $90/night\",\n         \"HotelImage\": \"https://example.com/excalibur.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0987,\n          \"longitude\": -115.1710\n        },\n         \"ratings\": 4.0,\n          \"descriptions\": \"Medieval-themed hotel with a variety of dining and entertainment options. Offers a unique Las Vegas experience at an affordable price.\"\n      },\n      {\n        \"HotelName\": \"OYO Hotel & Casino Las Vegas\",\n        \"HotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n        \"Price\": \"$35 - $75/night\",\n        \"HotelImage\": \"https://example.com/oyo.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0970,\n          \"longitude\": -115.1689\n        },\n         \"ratings\": 3.7,\n         \"descriptions\": \"Simple, no-frills hotel with a casino. Good option for those primarily seeking a place to sleep and basic amenities.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Exploring the Strip (South)\",\n        \"bestTimeToVisit\": \"Late afternoon/evening\",\n        \"places\": [\n          {\n            \"PlaceName\": \"Welcome to Fabulous Las Vegas Sign\",\n            \"placeDetails\": \"Iconic sign, great for photos. Free to visit.\",\n            \"placeImageURl\": \"https://example.com/welcomesign.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.0853,\n              \"longitude\": -115.1725\n            },\n            \"ticketPricing\": \"Free\",\n            \"ratings\": 4.6,\n              \"timeTravel\": \"5-10 minutes (by car/bus from south strip hotels)\"\n          },\n          {\n            \"PlaceName\": \"Bellagio Conservatory & Botanical Gardens\",\n            \"placeDetails\": \"Beautiful, free indoor garden display. Changes seasonally.\",\n            \"placeImageURl\": \"https://example.com/bellagio_gardens.jpg\",\n            \"geoCoordinates\": {\n               \"latitude\": 36.1126,\n              \"longitude\": -115.1728\n            },\n            \"ticketPricing\": \"Free\",\n            \"ratings\": 4.8,\n            \"timeTravel\": \"15-20 minutes (by bus/car from the Welcome Sign)\"\n          },\n           {\n            \"PlaceName\": \"Fountains of Bellagio\",\n            \"placeDetails\": \"Spectacular free water fountain show, set to music.\",\n             \"placeImageURl\":\"https://example.com/bellagio_fountains.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1124,\n              \"longitude\": -115.1740\n            },\n            \"ticketPricing\": \"Free\",\n            \"ratings\": 4.9,\n              \"timeTravel\": \"right next to the Conservatory\"\n          },\n          {\n            \"PlaceName\": \"Mirage Volcano\",\n             \"placeDetails\": \"Free erupting volcano show at night\",\n             \"placeImageURl\":\"https://example.com/mirage_volcano.jpg\",\n             \"geoCoordinates\":{\n                \"latitude\": 36.1221,\n                \"longitude\":-115.1736\n             },\n             \"ticketPricing\": \"Free\",\n             \"ratings\":4.7,\n              \"timeTravel\":\"10 minute walk from the bellagio\"\n          }\n\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Fremont Street Experience and Downtown\",\n         \"bestTimeToVisit\": \"Afternoon/Evening\",\n        \"places\": [\n          {\n            \"PlaceName\": \"Fremont Street Experience\",\n             \"placeDetails\": \"Pedestrian mall with a video canopy, street performers, and live music. Free to wander.\",\n             \"placeImageURl\":\"https://example.com/fremontstreet.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1694,\n              \"longitude\": -115.1400\n            },\n            \"ticketPricing\": \"Free\",\n            \"ratings\": 4.5,\n            \"timeTravel\":\"30 minute drive/bus from the strip\"\n          },\n           {\n              \"PlaceName\": \"Container Park\",\n              \"placeDetails\":\"Unique shopping center made of shipping containers with play areas and a giant praying mantis sculpture.\",\n              \"placeImageURl\":\"https://example.com/containerpark.jpg\",\n               \"geoCoordinates\":{\n                 \"latitude\":36.1685,\n                 \"longitude\":-115.1390\n               },\n               \"ticketPricing\":\"Free (some areas may have a small charge)\",\n               \"ratings\":4.4,\n                \"timeTravel\":\"5 minutes walk from fremont street\"\n           },\n           {\n              \"PlaceName\": \"Mob Museum\",\n              \"placeDetails\":\"Interactive museum about the history of organized crime. (Consider if you want to splurge on a museum activity)\",\n              \"placeImageURl\":\"https://example.com/mobmuseum.jpg\",\n               \"geoCoordinates\":{\n                 \"latitude\":36.1696,\n                 \"longitude\":-115.1448\n               },\n               \"ticketPricing\":\"$30\",\n               \"ratings\":4.6,\n                \"timeTravel\":\"10 minutes walk from container park\"\n           }\n        ]\n      },\n      \"day3\": {\n          \"theme\": \"Exploring the Strip (North) and Departure\",\n          \"bestTimeToVisit\": \"Morning/Afternoon\",\n        \"places\": [\n          {\n            \"PlaceName\": \"The LINQ Promenade\",\n            \"placeDetails\": \"Outdoor shopping, dining and entertainment area with free attractions. Including the High Roller (Consider if you want to splurge on a view)\",\n             \"placeImageURl\":\"https://example.com/linqpromenade.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1169,\n              \"longitude\": -115.1692\n            },\n            \"ticketPricing\": \"Free to walk around. High Roller ticket ~$30\",\n             \"ratings\": 4.4,\n            \"timeTravel\":\"10 minute drive/bus from Downtown\"\n          },\n           {\n             \"PlaceName\": \"Venetian Canals\",\n              \"placeDetails\":\"Recreation of Venice canals with gondola rides.\",\n              \"placeImageURl\":\"https://example.com/venetian_canals.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\":36.1206,\n                \"longitude\": -115.1692\n              },\n              \"ticketPricing\":\"Free to walk around. Gondola ride ~$35\",\n              \"ratings\":4.6,\n               \"timeTravel\":\"5-10 minute walk from the LINQ Promenade\"\n\n           },\n             {\n             \"PlaceName\":\"Departure\",\n             \"placeDetails\":\"Head to airport for your flight\",\n             \"placeImageURl\":\"\",\n             \"geoCoordinates\":{\n                \"latitude\": 36.0801,\n                \"longitude\": -115.1523\n              },\n             \"ticketPricing\":\"N/A\",\n             \"ratings\":\"N/A\",\n             \"timeTravel\":\"15 -20 minutes from Venetian hotel\"\n           }\n\n        ]\n      }\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
                                                                                                                        